                   ==============================
                   Release Notes for Samba 3.2.1
                           August 5, 2008
                   ==============================

This is the second stable release of Samba 3.2.

Major bug fixes included in Samba 3.2.1 are:

  o Race condition in Winbind leading to a crash.
  o Regression in Winbindd offline mode.
  o Flushing of smb.conf when creating a new share using SWAT.
  o Setting of ACEs in setups with "dos filemode = yes".


######################################################################
Changes
#######

Changes since 3.2.0
-------------------


o   Michael Adam <obnox@samba.org>
    * BUG 5608: Fix link creation for libtalloc.so.1 (and friends) on
      Solaris 8.
    * BUG 5594: Fix "make test" by adding and using a new testparm
      switch "--skip-logic-checks".
    * Fix creation of libaddns.a, libsmbclient.a and libsharemodes.a.
    * Update the section about net conf in the net(8) manpage.
    * Improve processing of registry shares.
    * Fix listing of registry shares with testparm.
    * Fix several build issues.


o   Jeremy Allison <jra@samba.org>
    * BUG 5578: Fix error from strlcat.
    * BUG 5613: Fix flushing of smb.conf when creating a new share using SWAT.
    * Ensure consistent use of pdb_get_nt_passwd instead of
      pdb_get_lanman_passwd.
    * Remove worrying warning message when safe_strcpy tries to copy a
      pseaudo interface name that's too long.
    * Canonicalize servername in the printer functions to remove leading
      '\\' characters.
    * Fix option processing in smbcacls - add POPT_COMMON_CONNECTION.
    * Fix bug creating files using DOS clients with mixed case files.
    * Fix uninitialized variable.


o   Jim Brown <jim.brown@miami.edu>
    * Fix SGI compiler warnings.


o   Günther Deschner <gd@samba.org>
    * BUG 5616: Fix session keys also in rpccli_netr_LogonSamLogonEx wrapper.
    * BUG 5570: Fix bogus error message during AD domain join.
    * Fix trusted domain handling in Winbindd.
    * Fix build warning.


o   SATOH Fumiyasu <fumiyas@osstech.co.jp>
    * BUG 5202: Fix setting of ACEs for users/groups with write access
      in setups with 'dos filemode = yes'.
    * Re-activate 'acl group control' parameter and make it only apply
      to owning group.


o   Volodymyr Khomenko <Volodymyr.Khomenko@exanet.com>
    * Make ntimes function more like POSIX and allow NULL arg.


o   Volker Lendecke <vl@samba.org>
    * BUG 5512: Fix alignment problems on sparc.
    * BUG 5616: Fix share connections in setups with
      "server signing = mandatory" or SMB signing set on the client side.
    * Fix a race condition in Winbind leading to a crash.
    * Fix a segfault in base64_encode_data_blob.
    * Fix some uninitialized variable references via ndr_print.
    * Fix error message if trying to join with a non-privileged user.
    * Fix setups using "include = registry" without [global] settings
      in the registry.
    * Fix "net sam rights" on domain member servers.
    * Add documentation for the vfs streams modules.


o   Herb Lewis <herb@samba.org>
    * Cleanup some duplicate code by passing the password to the wbinfo_auth*
      functions.
    * Allow SID with 0 in subauthority to be converted properly.


o   Zach Loafman <zachary.loafman@isilon.com>
    * Set sin[6]_family instead of ss_family in in[6]_addr_to_sockaddr_storage.
    * Fix realpath() check so that it doesn't generate a core() when it fails.


o   Jim McDonough <jmcd@samba.org>
    * Fix overwriting of winbind logfiles.


o   Lars Müller <lars@samba.org>
    * Fix "vfs_full_audit.c: name table not in sync with vfs.h" panic.


o   Darshan Purandare <dpurandare@isilon.com>
    * Add broadcasting of the debug message to all winbindd children.


o   Karolin Seeger <kseeger@samba.org>
    * BUG 5635: Fix updating of printer queues.


o   Andreas Schneider <anschneider@suse.de>
    * Release still reachable memory if the smbclient context is freed.
    * Remove trailing withespace from wbinfo -m which breaks gdm auth.


o   Simo Sorce <idra@samba.org>
    * BUG 5540: Fix "set primary group script" user option substitution.
    * Fix regression in Winbindd offline mode.


o   Bo Yang <boyang@novell.com>
    * Allow authentication and memory credential refresh after password
      change from gdm/xdm.
    * Allow %u parameters for print job username.


######################################################################
Reporting bugs & Development Discussion
#######################################

Please discuss this release on the samba-technical mailing list or by
joining the #samba-technical IRC channel on irc.freenode.net.

If you do report problems then please try to send high quality
feedback. If you don't provide vital information to help us track down
the problem then you will probably be ignored.  All bug reports should
be filed under the Samba 3.2 product in the project's Bugzilla
database (https://bugzilla.samba.org/).


======================================================================
== Our Code, Our Bugs, Our Responsibility.
== The Samba Team
======================================================================

